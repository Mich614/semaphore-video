from pyVim.connect import SmartConnect, Disconnect
import ssl

# Disable SSL warnings
context = ssl._create_unverified_context()

try:
    # Connect to ESXi host
    si = SmartConnect(
        host="192.168.20.10",  # Replace with your ESXi host IP
        user="root",          # Replace with your username
        pwd="Datait2024!",    # Replace with your password
        sslContext=context
    )
    
    # Print basic information about the ESXi server
    about_info = si.content.about
    print(f"Connected to ESXi Server: {about_info.fullName}")
    print(f"Version: {about_info.version}")
    print(f"Build: {about_info.build}")
    
    # Disconnect the session
    Disconnect(si)

except Exception as e:
    print(f"Failed to connect to ESXi: {e}")
